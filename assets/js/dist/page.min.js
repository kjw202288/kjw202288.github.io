/*!
 * Chirpy v5.6.0 (https://github.com/cotes2020/jekyll-theme-chirpy/)
 * Â© 2019 Cotes Chung
 * MIT Licensed
 */
!function(){"use strict";const t=$(".mode-toggle");function e(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function o(t,o,r){return(o=e(o))in t?Object.defineProperty(t,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[o]=r,t}const r=$("body"),a="sidebar-display";class n{static toggle(){!1===n.isExpanded?r.attr(a,""):r.removeAttr(a),n.isExpanded=!n.isExpanded}}o(n,"isExpanded",!1);const i="div.post>h1:first-of-type",s=$(i),c=$("#topbar-title"),l=c.text().trim();const d=$("#sidebar-trigger"),p=$("#search-trigger"),u=$("#search-cancel"),f=$("#main"),h=$("#topbar-title"),g=$("#search-wrapper"),b=$("#search-result-wrapper"),m=$("#search-results"),w=$("#search-input"),k=$("#search-hints"),v=$("html,body"),T="loaded",C="unloaded",y="input-focus",x="d-flex";class S{static on(){S.offset=window.scrollY,v.scrollTop(0)}static off(){v.scrollTop(S.offset)}}o(S,"offset",0),o(S,"resultVisible",!1);class L{static on(){d.addClass(C),h.addClass(C),p.addClass(C),g.addClass(x),u.addClass(T)}static off(){u.removeClass(T),g.removeClass(x),d.removeClass(C),h.removeClass(C),p.removeClass(C)}}class I{static on(){S.resultVisible||(S.on(),b.removeClass(C),f.addClass(C),S.resultVisible=!0)}static off(){S.resultVisible&&(m.empty(),k.hasClass(C)&&k.removeClass(C),b.addClass(C),f.removeClass(C),S.off(),w.val(""),S.resultVisible=!1)}}function U(){return u.hasClass(T)}const E="data-topbar-visible",O=$("body"),H=$("#topbar-wrapper");class R{static hideTopbar(){O.attr(E,"false")}static showTopbar(){O.attr(E,"true")}static addScrollUpTask(){R.scrollUpCount+=1,R.topbarIsLocked||(R.topbarIsLocked=!0)}static popScrollUpTask(){R.scrollUpCount-=1}static hasScrollUpTask(){return R.scrollUpCount>0}static topbarLocked(){return!0===R.topbarIsLocked}static unlockTopbar(){R.topbarIsLocked=!1}static getTopbarHeight(){return H.outerHeight()}static orientationLocked(){return!0===R.orientationIsLocked}static lockOrientation(){R.orientationIsLocked=!0}static unLockOrientation(){R.orientationIsLocked=!1}}o(R,"scrollUpCount",0),o(R,"topbarIsLocked",!1),o(R,"orientationIsLocked",!1);const V=$("#search-input"),A=R.getTopbarHeight();let N,P=0;function j(){0!==$(window).scrollTop()&&(R.lockOrientation(),R.hideTopbar())}function D(){const t=screen.orientation;t?t.onchange=()=>{const e=t.type;"landscape-primary"!==e&&"landscape-secondary"!==e||j()}:$(window).on("orientationchange",(()=>{$(window).width()<$(window).height()&&j()})),$(window).on("scroll",(()=>{N||(N=!0)})),setInterval((()=>{N&&(!function(){let t=$(window).scrollTop();if(!(Math.abs(P-t)<=A)){if(t>P)R.hideTopbar(),V.is(":focus")&&V.trigger("blur");else if(t+$(window).height()<$(document).height()){if(R.hasScrollUpTask())return;R.topbarLocked()?R.unlockTopbar():R.orientationLocked()?R.unLockOrientation():R.showTopbar()}P=t}}(),N=!1)}),250)}$(".collapse");const M=".code-header>button",q="fas fa-check",z="timeout",B="data-title-succeed",J="data-original-title",Y=2e3;function F(t){if($(t)[0].hasAttribute(z)){let e=$(t).attr(z);if(Number(e)>Date.now())return!0}return!1}function G(t){$(t).attr(z,Date.now()+Y)}function K(t){$(t).removeAttr(z)}const Q=$(M).children().attr("class");$(window).on("scroll",(()=>{$(window).scrollTop()>50&&"none"===$("#sidebar-trigger").css("display")?$("#back-to-top").fadeIn():$("#back-to-top").fadeOut()})),$("#back-to-top").on("click",(()=>($("body,html").animate({scrollTop:0},800),!1))),$('[data-toggle="tooltip"]').tooltip(),0!==t.length&&t.off().on("click",(t=>{const e=$(t.target);let o=e.prop("tagName")==="button".toUpperCase()?e:e.parent();modeToggle.flipMode(),o.trigger("blur")})),$("#sidebar-trigger").on("click",n.toggle),$("#mask").on("click",n.toggle),function(){if(0===s.length||s.hasClass("dynamic-title")||c.is(":hidden"))return;let t=s.text().trim(),e=!1,o=0;($("#page-category").length||$("#page-tag").length)&&/\s/.test(t)&&(t=t.replace(/[0-9]/g,"").trim()),s.offset().top<$(window).scrollTop()&&c.text(t),new IntersectionObserver((r=>{if(!e)return void(e=!0);let a=$(window).scrollTop(),n=o<a;o=a;let i=r[0];n?0===i.intersectionRatio&&c.text(t):1===i.intersectionRatio&&c.text(l)}),{rootMargin:"-48px 0px 0px 0px",threshold:[0,1]}).observe(document.querySelector(i)),c.on("click",(function(){$("body,html").animate({scrollTop:0},800)}))}(),p.on("click",(function(){L.on(),I.on(),w.trigger("focus")})),u.on("click",(function(){L.off(),I.off()})),w.on("focus",(function(){g.addClass(y)})),w.on("focusout",(function(){g.removeClass(y)})),w.on("input",(()=>{""===w.val()?U()?k.removeClass(C):I.off():(I.on(),U()&&k.addClass(C))})),D(),$("#core-wrapper img[data-src]")<=0||($(".popup").magnificPopup({type:"image",closeOnContentClick:!0,showCloseBtn:!1,zoom:{enabled:!0,duration:300,easing:"ease-in-out"}}),document.addEventListener("lazyloaded",(function(t){$(t.target).parent().removeClass("shimmer")}))),function(){const t=new ClipboardJS(M,{target:t=>t.parentNode.nextElementSibling.querySelector("code .rouge-code")});$(M).tooltip({trigger:"hover",placement:"left"}),t.on("success",(t=>{t.clearSelection();const e=t.trigger;F(e)||(!function(t){$(t).children().attr("class",q)}(e),function(t){const e=$(t).attr(B);$(t).attr(J,e).tooltip("show")}(e),G(e),setTimeout((()=>{!function(t){$(t).tooltip("hide").removeAttr(J)}(e),function(t){$(t).children().attr("class",Q)}(e),K(e)}),Y))})),$("#copy-link").on("click",(t=>{let e=$(t.target);F(e)||navigator.clipboard.writeText(window.location.href).then((()=>{const t=e.attr(J),o=e.attr(B);e.attr(J,o).tooltip("show"),G(e),setTimeout((()=>{e.attr(J,t),K(e)}),Y)}))}))}(),function(){const t=$("#topbar-title"),e="scroll-focus";$("a[href*='#']:not([href='#']):not([href='#0'])").on("click",(function(o){if(this.pathname.replace(/^\//,"")!==location.pathname.replace(/^\//,""))return;if(location.hostname!==this.hostname)return;const r=decodeURI(this.hash);let a=RegExp(/^#fnref:/).test(r),n=!a&&RegExp(/^#fn:/).test(r),i="#"+$.escapeSelector(r.substring(1)),s=$(i),c=t.is(":visible"),l=$(window).width()<$(window).height();if(void 0===s)return;o.preventDefault(),history.pushState&&history.pushState(null,null,r);let d=$(window).scrollTop(),p=s.offset().top-=8;p<d?(R.hideTopbar(),R.addScrollUpTask(),c&&l&&(p-=R.getTopbarHeight())):c&&l&&(p-=R.getTopbarHeight()),$("html").animate({scrollTop:p},500,(()=>{s.trigger("focus");const t=$("[".concat(e,"=true]"));t.length&&t.attr(e,"false");const o=$(":target");if(o.length&&o.attr(e,"false"),(n||a)&&s.attr(e,"true"),s.is(":focus"))return!1;s.attr("tabindex","-1"),s.trigger("focus"),R.hasScrollUpTask()&&R.popScrollUpTask()}))}))}()}();
